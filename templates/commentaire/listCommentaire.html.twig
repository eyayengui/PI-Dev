{# templates/commentaire/list.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}ist des commentaires{% endblock %}

{% block body %}
    <h1>List des commentaires</h1>

    <a href="{{ path('add_commentaire') }}" style="text-decoration: none;">
        <button style="padding: 10px; background-color: green; color: white; border: none; cursor: pointer;">Ajouter un livre</button>
    </a>

    <table border="1">
        <thead>
            <tr>
                <th>id</th>
                <th>conten_Commentaire</th>
                <th>ID_User</th>
                <th>publication</th>
                <th>Actions</th>
            </tr>
        </thead>
         <tbody>
            {% for commentaire in commentaires %}
                <tr>
                    <td>{{ commentaire.id }}</td>
                    <td>{{ commentaire. getContenuC() }}</td>
                    <td>{{ commentaire.getIDUser() }}</td>
                      <td>{{ commentaire.Publication.getTitreP() }}</td>
                      <td>
                       <a href="{{ path('edit_commentaire', {'id': commentaire.id}) }}">Edit</a>
                        |
                        <form method="post" action="{{ path('delete_commentaire', {'id': commentaire.id}) }}" style="display: inline;">
                            <input type="hidden" name="_method" value="POST">
                            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ commentaire.id) }}">
                            <button type="submit" style="border: none; background: none; padding: 0; color: blue; text-decoration: underline; cursor: pointer;">Delete</button>
                        </form>
                        </td>
                   
                </tr>
            {% endfor %}
        </tbody>
       
    </table>
{% endblock %}